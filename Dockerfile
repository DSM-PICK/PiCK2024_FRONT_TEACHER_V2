FROM node:21.5.0

WORKDIR /user/src

COPY package.json .

RUN yarn

COPY . .

RUN yarn build

EXPOSE 3000

CMD ["yarn", "dev"]

ARG VITE_PUBLIC_FILE_APP
ARG VITE_SERVER_BASE_URL

ENV VITE_PUBLIC_FILE_APP=${VITE_PUBLIC_FILE_APP}
ENV VITE_SERVER_BASE_URL=${VITE_SERVER_BASE_URL}

